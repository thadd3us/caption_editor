source .envrc.private

# Required on macOS for torchcodec (used by the Python ASR tooling) to find the
# correct libraries.
#
# IMPORTANT: Don't export DYLD_LIBRARY_PATH globally for the whole repo, because
# it can affect unrelated binaries you run from this shell (including the
# packaged Electron app) by causing it to load Homebrew dylibs.
# case "$PWD/" in
#   */transcribe/*|*/transcribe/)
#     export DYLD_LIBRARY_PATH="/opt/homebrew/lib:${DYLD_LIBRARY_PATH:-}"
#     ;;
# esac

# ASR dev mode: run transcribe_cli.py from code tree using uv (not bundled Python)
# This allows the packaged Electron app to use the local Python environment
export CAPTION_EDITOR_RUN_TRANSCRIBE_FROM_CODE_TREE=1
export CAPTION_EDITOR_CODE_TREE_ROOT="$PWD"
